<script>
document.addEventListener("DOMContentLoaded", () => {
  console.log("DOM loaded and script running");

  const BASE = "https://slideui.github.io/Designers-System/";
  console.log("Base path:", BASE);

  const gallery = document.getElementById("gallery");
  const loading = document.getElementById("loading");

  const category = "About_Us";
  const device = "Desktop";
  const mode = "Accent Mode";

  // Helper function to create and append images
  function loadImages() {
    gallery.innerHTML = "";
    loading.style.display = "flex";

    const fragment = document.createDocumentFragment();

    for (let i = 1; i <= 120; i++) {
      const file = `${BASE}${category}/${device}/${mode}/About Us Blocks-${i}_result.webp`;
      const img = new Image();
      img.src = file;
      img.loading = "lazy";
      img.decoding = "async";
      img.alt = `About Us Block ${i}`;
      img.className =
        "w-full rounded-xl shadow-lg transition-transform hover:scale-105";

      img.onload = () => console.log("✅ Loaded:", file);
      img.onerror = () => console.warn("❌ Missing:", file);

      fragment.appendChild(img);
    }

    gallery.appendChild(fragment);
    loading.style.display = "none";
  }

  loadImages();
});
</script>
